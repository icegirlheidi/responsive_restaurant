$(document).ready(function() {


	// Ajax get json file with menu data and Json Parse to show on the page.
	
	//hardcode for local testing
	var menu ='[{"name":"TUAS-talo","address":"Otaniementie 17, Espoo","campus":"Otaniemi","open":"Mon-Fri 10:30-14:00","url":{"fi":"http://www.amica.fi/api/restaurant/menu/week?language=fi&restaurantPageId=9291&weekDate=","en":"http://www.amica.fi/api/restaurant/menu/week?language=en&restaurantPageId=9291&weekDate="},"location":{"lat":60.1868196,"lng":24.8187598},"meals":{"fi":[["Sitruunaisia kalapaloja (L, M, A)","Sinappirelish-kermaviilikastiketta (L, G, A)","Perunasosetta (L, G, *, A)","Jauhelihakastiketta (L, *, A)","Luomutäysjyväpennepastaa (L, M, *, Veg, A)","Nakkikeittoa (L, G, M, A)","Kasviksia currykastikkeessa (L, G, M, *, Veg, A)","Ruis-riisiä (L, M, *, A)","Salaatti ylikypsästä porsaanpaistista (L, G, M, A)","Kalkkunan sisäfileetä (L, G, M, *, A)","Rakuunakastiketta  (L, G, M, A)","Kurkumariisiä (L, G, M, Veg)","Paistettu persikanpuolikas (L, G, M)","Jauhelihawrappeja meksikolaisittain (L, M, VS, A)","Suklaa-banaanimoussea (G, A)"],["Uunikalaa sinappi-purjokastikkeessa (L, G, *, A)","Keitettyjä perunoita (L, G, M, *)","Broileri-pastavuokaa (L, *, A)","Quornia sinihomejuustokastikkeessa (L, G, *, A)","Pinaattikeittoa ja kananmunaa (A)","Savustettua kirjolohta, peruna-vihannessalaattia ja kermaviilikastiketta (L, G, *, A)","Porsaan sisäfileetä (L, G, M, *)","BBQ-kastiketta (L, G, M, *)","Lohkoperunoita (L, G, M)","Paahdettua paprikaa (L, G, M, Veg)","Ananashampurilainen (L, M, A)","Ranskalaisia perunoita (L, G, M)","Omena-luomukaurapaistosta (L, M, A)","Vaniljakastiketta (G, A)"],["Chilimaustettua porsaspataa (L, G, M, *, VS, A)","Ruis-riisiä (L, M, *, A)","Uunibroileria (L, G, M)","Omena-currykastiketta (L, *, A)","Ruis-riisiä (L, M, *, A)","Juustokuorrutettua kasvisgratiinia (VL, *, A)","Kasvis-borssikeittoa ja jogurttia (L, G, *, A)","Fetajuustosalaatti (G, A)","Paistettua siikafileetä (L, M, A)","Tartarkastiketta (L, G, M, A)","Grillattuja kasviksia (L, G, M, Veg, VS)","Keitettyjä tilliperunoita (L, G, M, *)","Broileri-sinihomejuustotäytteisiä ohukaisia (A)","Mangorahkaa (L, G, A)"],["Liha-makaronilaatikkoa (VL, *, A)","Tomaattiketsuppia (L, G, M)","Lohi-kasvispataa (L, G, *, A)","Keitettyjä perunoita (L, G, M, *)","Broileri-kookoskeittoa (L, M, VS, A)","Juurespihvejä (L, G, M, *, Veg, A)","Curry-kermaviilikastiketta (L, G, A)","Keitettyjä perunoita (L, G, M, *)","Kalkkuna-hedelmäsalaattia ja curry-kermaviilikastiketta (L, G, *, A)","Sinihomejuusto-ananastäytteinen broilerinfileetasku (L, G, A)","Limettimajoneesia (L, G, A)","Viipaleperunoita (L, G, A)","Hunaja-kirveliporkkanoita (G, VL, A)","Sinihomejuusto-ananas-kasvispannupizzaa (L, A)","Mustaherukkakiisseliä (L, G, M)"],["Broileri-sinihomejuustokastiketta (L, G, *, A)","Luomutäysjyväkierrepastaa (L, M, *, A)","Jauhelihapihvejä (L, M, A)","Ruskeaa kastiketta (L, M, *, A)","Perunasosetta (L, G, *, A)","Kahden kalan keittoa (L, G, A)","Vihannespastaa (L, M, *, Veg, VS, A)","Broileri-pastasalaattia ja curry-majoneesikastiketta (L, M, *, A)","Turskaa ja katkarapuja hapanimeläkastikkeessa (L, G, M, VS, A)","Basmatiriisiä (L, G, M)","Lasimestarin vihanneksia (L, G, M, Veg)","Lämmin makkaraleipä (L, A)","Puolukkavispipuuroa (L, M, Veg, A)"]],"en":[]}},{"name":"Alvari","address":"Otakaari 2, Espoo","campus":"Otaniemi","open":"Mon-Thu 10:30-17:00, Fri 10:30-15:00","url":{"fi":"http://www.amica.fi/api/restaurant/menu/week?language=fi&restaurantPageId=9271&weekDate=","en":"http://www.amica.fi/api/restaurant/menu/week?language=en&restaurantPageId=9271&weekDate="},"location":{"lat":60.1862055,"lng":24.8262297},"meals":{"fi":[["Kalkkuna-mangokastiketta (L, G, M, *)","Ruis-riisiä (L, M, *, A)","Sitruunakuorrutettua seitiä (L, *, A)","Keitettyjä perunoita (L, G, M, *)","Soija-kasviskiusausta (L, G, *, VS, A)","Kasvisminestronea (L, M, *, Veg, VS, A)","Broileri-Caesarsalaattia (L, VS, A)"],["Jambalayaa (L, G, M, VS, A)","Karjalanpaistia (L, G, M, *)","Keitettyjä perunoita (L, G, M, *)","Jogurttista linssi-kasvismuhennosta (L, G, *, VS, A)","Ruis-riisiä (L, M, *, A)","Palsternakkasosekeittoa (L, G, *, A)","Salaatti luomutofusta (L, G, M, *, Veg, A)"],["Lohi-tomaattikastiketta (L, *, VS, A)","Luomutäysjyväpennepastaa (L, M, *, Veg, A)","Jauheliha-tomaattipannupizzaa (L, A)","Juustoista kukkakaaligratiinia (L, G, *, A)","Keitettyjä perunoita (L, G, M, *)","Porkkana-juustokeittoa (L, G, *, A)","Kalkkuna-hedelmäsalaattia ja curry-kermaviilikastiketta (L, G, *, A)"],["Kinkku-ananaspastaa (L, *, A)","Juustoisia broileripuikkoja (L, A)","Kasvisriisiä (L, G, M, Veg)","Omena-currykastiketta (L, *, A)","Porkkanaohukaisia (A)","Puolukkahilloa (L, G, M)","Keitettyjä perunoita (L, G, M, *)","Herkkusienikeittoa (L, *, A)","Broileri-nuudelisalaattia ja makeaa chilikastiketta (L, M, *, A)"],["Rukiisia silakoita (L, *, A)","Perunasosetta (L, G, *, A)","Pyttipannua (L, G, M)","Tomaattiketsuppia (L, G, M)","Tomaatti-vuohenjuustokastiketta (G, *, VS, A)","Luomutäysjyväspagettia (L, M, *, A)","Pinaattikeittoa ja kananmunaa (L, *, A)","Katkarapusalaatti (L, G, *, A)"]],"en":[]}},{"name":"Täffä","address":"Otakaari 22, Espoo","campus":"Otaniemi","open":"Mon-Thu 10:30-16:00, Fri 10:30-15:00","url":{"fi":"https://www.teknologforeningen.fi/index.php?option=com_content&view=article&id=277&Itemid=128&lang=fi","en":"https://www.teknologforeningen.fi/index.php?option=com_content&view=article&id=277&Itemid=128&lang=en"},"location":{"lat":60.1858857,"lng":24.83245},"meals":{"fi":[["Paistettu kampela, sitruunakastike l","Kasvispyörykät vl g","Mozzarellasalaatti vl g","Kukkakaalikeitto l g","A la Carte: Täffänleike vl g","EDULLISEMPI À LA CARTE ELISA LOMPAKKO LÄHIMAKSULLA"],["Kalkkuna gordon bleu, valkosipuli-kermaviilikastike vl","Kasvismunakas g","Paahtopaistisalaatti l","Kalakeitto l g","A la Carte: Oskarinleike","EDULLISEMPI À LA CARTE ELISA LOMPAKKO LÄHIMAKSULLA"],["Spaghetti bolognese l","Basilikakastiketta l","Puutarhurin salaatti vl g","Linssi-porkkanakeitto l g","A la Carte: Grillipihvi l g","EDULLISEMPI À LA CARTE ELISA LOMPAKKO LÄHIMAKSULLA"],["Tex mex-hampurilainen, ranskalaiset","Kasvispihvit, remouladekastike vl g","Kanasalaatti vl g","Makkarakeitto l g","A la Carte: Hawaijinleike l","EDULLISEMPI À LA CARTE ELISA LOMPAKKO LÄHIMAKSULLA"],["Wieninleike, perunamuhennos","Kasvislasagne vl","Milano salaatti g vl","Kantarellikeitto vl","A la Carte: Grillattu lohi, tartarkastike, lohkoperunat l g","EDULLISEMPI À LA CARTE ELISA LOMPAKKO LÄHIMAKSULLA"]],"en":[["Roasted flounder, lemon sauce l","Vegetable balls vl g","Mozzarella salad g vl","Cauliflower soup l g","A la Carte: Täffäs\'s schnitzel vl g","DISCOUNT ON À LA CARTE WITH ELISA LOMPAKKO CONTACTLESS PAYMENT"],["Turkey gordon bleu, sour cream sauce with garlic vl","Vegetable omelette g","Roast beef salad l","Fish soup g l","A la Carte: Oscar schnitzel","DISCOUNT ON À LA CARTE WITH ELISA LOMPAKKO CONTACTLESS PAYMENT"],["Spaghetti bolognese l","Basil sauce l","Gardners salad vl g","Lentil-carrot soup l g","A la Carte: Grilled steak l g","DISCOUNT ON À LA CARTE WITH ELISA LOMPAKKO CONTACTLESS PAYMENT"],["Tex mex-hamburger, french fries","Vegeterian beefs, remoulade sauce vl g","Chicken salad vl g","Sausagesoup l g","A la Carte: Hawaij schnitzel l","DISCOUNT ON À LA CARTE WITH ELISA LOMPAKKO CONTACTLESS PAYMENT"],["Wiener schnitzel mashed potatoes","Vegetable lasagne vl","Milano salad g vl","Chanterelle soup vl","A la Carte: Grilled salmon, tartar sauce, potato wedges g l","DISCOUNT ON À LA CARTE WITH ELISA LOMPAKKO CONTACTLESS PAYMENT"]]}},{"name":"Teekkariravintolat","address":"Otakaari 24, Espoo","campus":"Otaniemi","open":"Mon-Fri 10:30-15:00","url":{"fi":"http://www.sodexo.fi/dipoli"},"location":{"lat":60.1847778,"lng":24.8309887},"meals":{"fi":[["Juustoista uunimakkaraa perunamuusilla (L)","Broileria tikka masala, basmatiriisiä (G, L)","Tofua omena-cashewpähkinä kastikkeessa  (G, L)","Tomaatti-valkosipulikeittoa, basilikamarinoitua raejuustoa (G, VL)","Kreikkalaista salaattia (G, VL)"],["Kreikkalaista härkäpataa (G, M)","Kalapyöryköitä, wasabi kermaviiliä (L)","Broiler-nuudelikeittoa (M)","Gratinoitua pinaattipastaa (L)","Pekoni caesar salaattia (G, VL)"],["Broilernuggetteja bbq-majoneesilla ja paahdetuilla perunoilla (L)","Kasviskroketteja bbq-majoneesilla ja paahdetuilla perunoilla (L)","Savujuusto-porkkanasosekeittoa,krutonkeja (VL)","Chili-katkarapusalaattia (G, M)","A la carte:Kampelaleike hollandaisekastikkeella (VL)"],["Lasagne (L)","Papuja dal makhani (veg) (G, M)","Hernekeittoa ja pannukakkua hillolla ja kermavaahdolla (VL)","Salaatti pariloidusta lohesta (G, M)"],["Jauhelihapihvejä kermakastikkeessa ja perunamuusilla (VL)","Tortilla kasvistäytteellä (veg) ja jogurttikastikkeella (L)","Palsternakkasosekeittoa kaaliporkkanapasteijalla (VL)","Broiler-pähkinäsalaattia (G, M)","a la carte:Grillattua lohta remouladekastikkeella"],["Kalkkunaleike cordon bleu piripiri hollandaisekastikkeella, paahdettuja perunoita (VL)","Kasvispihvejä papu-seesamkermaviilikastikeella, paahdettuja perunoita (L)"]],"en":[["Oven baked sausage with cheese (L)","Chicken tikka masala with basmati rice (G, L)","Vegetable stew with nuts and tofu (G, L)","Tomato soup with cottage cheese with basil (G, VL)","Greek salad (G, VL)"],["Beef stew Greek style (G, M)","Fish balls with wasabi sour creme (L)","Chicken soup with noodles (M)","Gratinated spinach pasta (L)","Chili marinated shrimp salad (G, VL)"],["Chicken nuggets with bbq-mayonnaise  (L)","Vegetable croquettes with bbq mayonnaise (L)","Carrot purê soup with crouton (VL)","Salad with chilimarinated shrimps (G, M)","A la carte: Fried flounder with hollandaise sauce (VL)"],["Lasagne (L)","Dal makhani beans (G, M)","Pea soup with pancake with jam and vipped cream (VL)","Salad with grilled salmon (G, M)"],["Hamburger steaks with creamy mustard sauce and mashed potatoes (VL)","Vegetarian tortilla with yoghurt sauce (L)","Parsnip pyrê soup with pasty (VL)","Chicken salad with nuts (G, M)","A la carte: Grilled salmon with remoulade sauce"],["Turkey cutlet cordon bleu with piri piri hollandaise sauce (VL)","Vegetable patties with sour creme with beans and sesam seeds (L)"]]}}, {"name":"Cantina","address":"Otakaari 24, Espoo","campus":"Otaniemi","open":"Mon-Thu 11:00-22:30, Fri 11:00-22:30, Sat 11:00-17:00","url":{"fi":"http://www.sodexo.fi/cantina"},"location":{"lat":60.1847778,"lng":24.8309887},"meals":{"fi":[["Teriaki broileria, lämminkasvislisäke ja riisi (VL)","Americano (VL)","Mozzarella (VL)","Vegetarian (VL)","Omavalintainen Caesar (VL)","Omavalintainen Balsamico-salaatti (G, L, M)"],["Lihapyöryköitä intialiseen tapaan, jogurttikastiketta, lämminkasvislisäke ja riisiä","Bolognaise (VL)","Frutti di mare (VL)","Vegetarian (L)","Omavalintainen Caesar (VL)","Omavalintainen Balsamico-salaatti (G, L, M)"],["Possunpihvi BBQ, lämmin kasvislisäke ja perunaa (VL)","Kebab pitza (VL)","Pollo americana (VL)","Vegetarian (L)","Omavalintainen Caesar (VL)","Omavalintainen Balsamico-salaatti (G, L, M)"],["Wallenbergin kalapihvi, ruohosipulikastiketta, lämmin kasvislisäke ja perunaa (VL)","Capricciosa (VL)","Mozzarella (VL)","Vegetarian (L)","Omavalintainen Caesar (VL)","Omavalintainen Balsamico-salaatti (G, L, M)"],["Pyttipannua, paistettu kananmuna ja lämmin kasvislisäke (VL)","Americano (VL)","Bolognaise (VL)","Vegetarian (L)","Omavalintainen Caesar (VL)","Omavalintainen Balsamico-salaatti (G, L, M)"],["Ala carte lista","Pollo americana (VL)","Frutti di mare (VL)","Vegetarian (VL)","Omavaltainen Caesar (VL)","Omavaltainen Balsamico-salaatti (G, L, M)"]],"en":[[],[],[],[],[],[]]}}]';
	
	// server side code
	// $.get("menu.json", function(menu){

	// }
	obj = JSON.parse(menu);
	obj.forEach(function(catine_menu){
		if(catine_menu['name']=='Täffä'){
			set_today_menu(catine_menu);
			set_weekly_menu(catine_menu);
		}
	});

	// set Täffä today's menu
	function set_today_menu(catine_menu){
		meal_list = catine_menu['meals']['en'][2];
		for (var i = 0; i <5; i++){
			$('#meal'+i).text(meal_list[i]);
		}
		catine_menu['open'].split(',').forEach(function(data){
			$('#time').append("<p>"+data+"</p>");
		})

		$('#address').text(catine_menu['address']);
		$('#campus').text(catine_menu['campus']);
		$('#url').text(catine_menu['url']['en']);
	}

	// set Täffä weekly menu
	function set_weekly_menu(catine_menu){
		for (var i = 0; i <5; i++){
			var day_menu = catine_menu['meals']['en'][i]
			day_menu.pop();
			day_menu.forEach(function(data){
				$( '#weelday'+i ).append( "<p>"+data+"</p>" );
			})
		}
	}


	// Reserver for meat, soup and salad page data load.
	// function get_meat(obj){

	// 	}
	// }

	// function get_soup(catine_menu){

	// }

	// function get_salad(catine_menu){

	// }
});